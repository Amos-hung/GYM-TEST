<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¥µé€Ÿç‡ƒè„‚ APP v4.0</title>
    <style>
        :root { --primary: #00E676; --bg: #121212; --card: #1E1E1E; --text: #FFF; --sub: #B0B0B0; --danger: #FF5252; --backup: #FFB74D; --timer-active: #FF4081; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 15px; display: flex; justify-content: center; user-select: none; -webkit-user-select: none; }
        .app { width: 100%; max-width: 480px; padding-bottom: 80px; }
        
        /* Header */
        h1 { margin: 0; font-size: 22px; }
        .stats { display: flex; gap: 8px; margin: 10px 0 20px 0; }
        .badge { background: #333; padding: 4px 10px; border-radius: 12px; font-size: 12px; color: var(--primary); font-weight: bold; }

        /* Cards */
        .card { background: var(--card); border-radius: 16px; padding: 18px; margin-bottom: 18px; border: 1px solid #333; }
        .head { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #333; padding-bottom: 8px; }
        .title { color: var(--primary); font-weight: bold; font-size: 18px; }
        
        /* Rest Timer Button in Header */
        .rest-btn { 
            font-size: 12px; 
            background: #333; 
            color: #fff;
            padding: 6px 12px; 
            border-radius: 20px; 
            border: 1px solid #555;
            cursor: pointer;
            transition: 0.2s;
            min-width: 60px;
            text-align: center;
        }
        .rest-btn.active {
            background: var(--timer-active);
            border-color: var(--timer-active);
            color: white;
            animation: pulse 1s infinite;
        }

        /* Large Timer */
        .timer-box { background: rgba(0,0,0,0.3); padding: 12px; border-radius: 8px; text-align: center; margin-top: 10px; }
        .time { font-size: 30px; font-family: monospace; font-weight: bold; margin-bottom: 8px; display: block; }
        .btn { background: var(--primary); color: #000; border: none; padding: 8px 24px; border-radius: 20px; font-weight: bold; font-size: 14px; cursor: pointer; }
        .btn.stop { background: var(--danger); color: #fff; }

        /* Exercises */
        .pair { display: flex; flex-direction: column; gap: 15px; }
        .ex-block { display: flex; flex-direction: column; gap: 4px; }
        
        /* Links */
        .ex-link { color: var(--text); text-decoration: none; font-weight: 600; font-size: 16px; display: flex; align-items: center; gap: 6px; }
        .backup-link { color: var(--backup); text-decoration: none; font-size: 13px; margin-top: 2px; display: flex; align-items: center; gap: 4px; opacity: 0.9; }
        .backup-label { border: 1px solid var(--backup); border-radius: 4px; padding: 0 4px; font-size: 10px; margin-right: 4px; }
        .ex-meta { font-size: 13px; color: var(--sub); display: flex; justify-content: space-between; margin-top: 2px; padding-left: 2px; }
        .note { color: var(--danger); font-size: 12px; margin-top: 2px; }
        .arrow { text-align: center; color: var(--primary); font-size: 12px; opacity: 0.8; margin: -5px 0; }

        /* Checkboxes */
        .sets { display: flex; justify-content: space-between; margin-top: 15px; background: rgba(0,0,0,0.2); padding: 8px; border-radius: 8px; }
        .set { display: flex; flex-direction: column; align-items: center; gap: 4px; cursor: pointer; } 
        /* å¢åŠ é»æ“Šç¯„åœ */
        .set span { font-size: 10px; color: var(--sub); pointer-events: none;}
        .circle { width: 22px; height: 22px; border-radius: 50%; border: 2px solid #666; transition: 0.2s; pointer-events: none;}
        input[type="checkbox"] { display: none; }
        input:checked + .circle { background: var(--primary); border-color: var(--primary); }

        /* Cardio Grid */
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 15px; }
        .g-item { background: rgba(255,255,255,0.05); padding: 8px; border-radius: 6px; text-align: center; }
        .g-val { font-size: 16px; font-weight: bold; }
        .g-lbl { font-size: 10px; color: var(--sub); }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
    </style>
</head>
<body>

<div class="app">
    <header>
        <h1>ğŸ”¥ å…¨èº«ä»£è¬ç‡ƒè„‚ (v4.0)</h1>
        <div class="stats">
            <span class="badge">å«çµ„é–“è¨ˆæ™‚</span>
            <span class="badge">ç´„ 60 åˆ†é˜</span>
        </div>
    </header>

    <!-- ç†±èº« -->
    <div class="card" style="border-left: 4px solid #FFC107;">
        <div class="head"><span class="title" style="color:#FFC107">ğŸš€ æš–èº«å•Ÿå‹•</span></div>
        <div class="ex-block">
            <a href="https://www.google.com/search?tbm=isch&q=Elliptical+Machine+Workout" target="_blank" class="ex-link">æ»‘æ­¥æ©Ÿ / å¿«èµ° ğŸ”</a>
            <div class="ex-meta">è®“èº«é«”å¾®ç†±ï¼Œé—œç¯€æ´»å‹•é–‹ä¾†</div>
        </div>
        <div class="timer-box">
            <span id="t-warm" class="time">05:00</span>
            <button class="btn" onclick="runTimer(300, 't-warm', this)">é–‹å§‹æš–èº«è¨ˆæ™‚</button>
        </div>
    </div>

    <!-- Group 1 -->
    <div class="card">
        <div class="head">
            <span class="title">çµ„åˆ 1ï¼šè…¿æ¨+èƒ¸æ¨</span>
            <!-- ä¼‘æ¯è¨ˆæ™‚æŒ‰éˆ• -->
            <button class="rest-btn" onclick="startRest(90, this)">ä¼‘ 90ç§’</button>
        </div>
        <div class="pair">
            <div class="ex-block">
                <a href="https://www.google.com/search?tbm=isch&q=Leg+Press+Machine" target="_blank" class="ex-link">A. åå§¿è…¿æ¨æ©Ÿ ğŸ”</a>
                <a href="https://www.google.com/search?tbm=isch&q=Dumbbell+Goblet+Squat" target="_blank" class="backup-link"><span class="backup-label">å‚™ç”¨</span> å•éˆ´é«˜è…³æ¯æ·±è¹²</a>
                <div class="ex-meta"><span>12 ä¸‹ (åšé‡)</span><span>è…¿éƒ¨ç”¨åŠ›</span></div>
            </div>
            
            <div class="arrow">â¬‡ï¸ ä¸ä¼‘æ¯ â¬‡ï¸</div>
            
            <div class="ex-block">
                <a href="https://www.google.com/search?tbm=isch&q=Chest+Press+Machine" target="_blank" class="ex-link">B. æ©Ÿæ¢°å¼èƒ¸æ¨ ğŸ”</a>
                <a href="https://www.google.com/search?tbm=isch&q=Dumbbell+Bench+Press" target="_blank" class="backup-link"><span class="backup-label">å‚™ç”¨</span> å•éˆ´å¹³æ¿è‡¥æ¨</a>
                <div class="ex-meta"><span>12-15 ä¸‹</span><span>èƒŒè²¼ç·Š</span></div>
            </div>
        </div>
        <div class="sets">
            <label class="set"><span>1</span><input type="checkbox"><div class="circle"></div></label>
            <label class="set"><span>2</span><input type="checkbox"><div class="circle"></div></label>
            <label class="set"><span>3</span><input type="checkbox"><div class="circle"></div></label>
            <label class="set"><span>4</span><input type="checkbox"><div class="circle"></div></label>
        </div>
    </div>

    <!-- Group 2 -->
    <div class="card">
        <div class="head">
            <span class="title">çµ„åˆ 2ï¼šå¾Œå´éˆ</span>
            <!-- ä¼‘æ¯è¨ˆæ™‚æŒ‰éˆ• -->
            <button class="rest-btn" onclick="startRest(60, this)">ä¼‘ 60ç§’</button>
        </div>
        <div class="pair">
            <div class="ex-block">
                <a href="https://www.google.com/search?tbm=isch&q=Seated+Leg+Curl+Machine" target="_blank" class="ex-link">A. åå§¿è…¿å¾Œå‹¾ ğŸ”</a>
                <a href="https://www.google.com/search?tbm=isch&q=Dumbbell+RDL" target="_blank" class="backup-link"><span class="backup-label">å‚™ç”¨</span> å•éˆ´ç›´è…¿ç¡¬èˆ‰</a>
                <div class="ex-meta"><span>15-20 ä¸‹</span><span>å¾Œå´è¦é…¸</span></div>
            </div>

            <div class="arrow">â¬‡ï¸ ä¸ä¼‘æ¯ â¬‡ï¸</div>

            <div class="ex-block">
                <a href="https://www.google.com/search?tbm=isch&q=Seated+Cable+Row+Machine" target="_blank" class="ex-link">B. åå§¿åˆ’èˆ¹ ğŸ”</a>
                <a href="https://www.google.com/search?tbm=isch&q=One+Arm+Dumbbell+Row+Bench" target="_blank" class="backup-link"><span class="backup-label">å‚™ç”¨</span> å–®æ‰‹å•éˆ´åˆ’èˆ¹</a>
                <div class="ex-meta"><span>15-20 ä¸‹ (è¼•)</span><span>é ‚å³°æ”¶ç¸®</span></div>
                <div class="note">âš ï¸ ä¿è­·è‚©èƒ›ï¼šå‹•ä½œæ”¾æ…¢</div>
            </div>
        </div>
        <div class="sets">
            <label class="set"><span>1</span><input type="checkbox"><div class="circle"></div></label>
            <label class="set"><span>2</span><input type="checkbox"><div class="circle"></div></label>
            <label class="set"><span>3</span><input type="checkbox"><div class="circle"></div></label>
            <label class="set"><span>4</span><input type="checkbox"><div class="circle"></div></label>
        </div>
    </div>

    <!-- Group 3 -->
    <div class="card">
        <div class="head">
            <span class="title">çµ„åˆ 3ï¼šä»£è¬å……è¡€</span>
            <!-- ä¼‘æ¯è¨ˆæ™‚æŒ‰éˆ• -->
            <button class="rest-btn" onclick="startRest(45, this)">ä¼‘ 45ç§’</button>
        </div>
        <div class="pair">
            <div class="ex-block">
                <a href="https://www.google.com/search?tbm=isch&q=Leg+Extension+Machine" target="_blank" class="ex-link">A. åå§¿è…¿ä¼¸å±• ğŸ”</a>
                <a href="https://www.google.com/search?tbm=isch&q=Dumbbell+Reverse+Lunge" target="_blank" class="backup-link"><span class="backup-label">å‚™ç”¨</span> å•éˆ´å¾Œå¼“ç®­æ­¥</a>
                <div class="ex-meta"><span>20 ä¸‹</span><span>é€Ÿåº¦åŠ å¿«</span></div>
            </div>

            <div class="arrow">â¬‡ï¸ ä¸ä¼‘æ¯ â¬‡ï¸</div>

            <div class="ex-block">
                <a href="https://www.google.com/search?tbm=isch&q=Pec+Deck+Machine" target="_blank" class="ex-link">B. è´è¶æ©Ÿ / äºŒé ­ ğŸ”</a>
                <a href="https://www.google.com/search?tbm=isch&q=Dumbbell+Fly" target="_blank" class="backup-link"><span class="backup-label">å‚™ç”¨</span> å•éˆ´é£›é³¥ / äºŒé ­</a>
                <div class="ex-meta"><span>15-20 ä¸‹</span><span>åŠ›ç«­</span></div>
            </div>
        </div>
        <div class="sets">
            <label class="set"><span>1</span><input type="checkbox"><div class="circle"></div></label>
            <label class="set"><span>2</span><input type="checkbox"><div class="circle"></div></label>
            <label class="set"><span>3</span><input type="checkbox"><div class="circle"></div></label>
        </div>
    </div>

    <!-- Cardio Finisher -->
    <div class="card" style="border: 1px solid var(--primary);">
        <div class="head"><span class="title">ğŸƒ ç‡ƒè„‚æ”¶å°¾ (å¿…åš)</span></div>
        <div class="grid">
            <div class="g-item"><div class="g-val">30</div><div class="g-lbl">åˆ†é˜</div></div>
            <div class="g-item"><div class="g-val">12-15</div><div class="g-lbl">å¡åº¦</div></div>
            <div class="g-item"><div class="g-val">4.5</div><div class="g-lbl">é€Ÿåº¦</div></div>
            <div class="g-item"><div class="g-val">130+</div><div class="g-lbl">å¿ƒç‡</div></div>
        </div>
        <div style="text-align:center; margin-bottom:15px;">
            <a href="https://www.google.com/search?tbm=isch&q=Incline+Treadmill+Walking" target="_blank" class="ex-link" style="justify-content:center">è·‘æ­¥æ©Ÿçˆ¬å¡å¿«èµ° ğŸ”</a>
            <div class="note">æ‰‹ä¸æŠ“æ‰¶æ‰‹ï¼Œæ ¸å¿ƒæ”¶ç·Š</div>
        </div>
        <div class="timer-box">
            <span id="t-cardio" class="time">30:00</span>
            <button class="btn" onclick="runTimer(1800, 't-cardio', this)">é–‹å§‹ 30 åˆ†é˜è¨ˆæ™‚</button>
        </div>
    </div>
</div>

<script>
    let timers = {};
    let restTimers = {};

    // æ ¼å¼åŒ–æ™‚é–“ mm:ss
    function fmt(s) {
        return (s-(s%=60))/60+(9<s?':':':0')+s;
    }

    // å¤§è¨ˆæ™‚å™¨ (æš–èº«/æœ‰æ°§)
    function runTimer(seconds, id, btn) {
        if(timers[id]) {
            clearInterval(timers[id]);
            delete timers[id];
            btn.textContent = "é‡æ–°é–‹å§‹";
            btn.classList.remove('stop');
            return;
        }
        let left = seconds;
        btn.textContent = "åœæ­¢ / é‡ç½®";
        btn.classList.add('stop');
        timers[id] = setInterval(() => {
            left--;
            document.getElementById(id).textContent = fmt(left).padStart(5,'0');
            if(left <= 0) {
                clearInterval(timers[id]);
                delete timers[id];
                btn.textContent = "å®Œæˆï¼";
                btn.classList.remove('stop');
                if(navigator.vibrate) navigator.vibrate([300,100,300]);
                alert("æ™‚é–“åˆ°ï¼");
            }
        }, 1000);
    }

    // çµ„é–“ä¼‘æ¯å°è¨ˆæ™‚å™¨
    function startRest(sec, btn) {
        // å¦‚æœæ­£åœ¨è·‘ï¼Œå‰‡åœæ­¢ä¸¦å¾©åŸ
        if(btn.dataset.tid) {
            clearInterval(btn.dataset.tid);
            delete btn.dataset.tid;
            btn.textContent = btn.dataset.org;
            btn.classList.remove('active');
            return;
        }

        // å„²å­˜åŸå§‹æ–‡å­— (åªå­˜ä¸€æ¬¡)
        if(!btn.dataset.org) btn.dataset.org = btn.textContent;

        let left = sec;
        btn.classList.add('active');
        btn.textContent = fmt(left);
        
        // é–‹å§‹å€’æ•¸
        let tid = setInterval(() => {
            left--;
            btn.textContent = fmt(left);
            if(left <= 0) {
                clearInterval(tid);
                delete btn.dataset.tid;
                btn.textContent = "æ™‚é–“åˆ°";
                btn.classList.remove('active');
                if(navigator.vibrate) navigator.vibrate(500);
                
                // 2ç§’å¾Œè‡ªå‹•è®Šå›åŸæœ¬çš„æ–‡å­—
                setTimeout(() => {
                    btn.textContent = btn.dataset.org;
                }, 2000);
            }
        }, 1000);
        btn.dataset.tid = tid;
    }
    
    // Checkbox éœ‡å‹•
    document.querySelectorAll('input').forEach(i => {
        i.addEventListener('change', function() {
            if(this.checked && navigator.vibrate) navigator.vibrate(30);
        })
    });
</script>

</body>
</html>
